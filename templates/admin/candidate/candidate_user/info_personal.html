{% extends 'admin/layout/dashboard_base.html' %} 

{% load static %}
{% load crispy_forms_tags %}

{% block title %}
Información Básica | Talent Tray
{% endblock %}

{% block styles %}
<style>
    /* Estilos para checkboxes en línea horizontal */
	.fit-cultural-checkboxes .form-check {
		display: inline-block !important;
		margin-right: 20px !important;
		margin-bottom: 10px !important;
		min-width: 180px !important;
	}

	.fit-cultural-checkboxes .form-check-input {
		margin-right: 8px !important;
	}

	.fit-cultural-checkboxes .form-check-label {
		display: inline !important;
		font-size: 14px !important;
		white-space: nowrap !important;
	}

	/* Responsive para pantallas pequeñas */
	@media (max-width: 768px) {
		.fit-cultural-checkboxes .form-check {
			min-width: 150px !important;
			margin-right: 15px !important;
		}
	}

	/* Estilos para motivadores también */
	.motivadores .form-check {
		display: inline-block !important;
		margin-right: 20px !important;
		margin-bottom: 10px !important;
		min-width: 180px !important;
	}
</style>
{% endblock %}

{% block content %}
<div class="main-content-container overflow-hidden">
	<div class="d-flex justify-content-between align-items-center flex-wrap gap-2 mb-4">
		<h3 class="mb-0" style="color: #B10022;">INFORMACIÓN BÁSICA</h3>
		<nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
			<ol class="breadcrumb align-items-center mb-0 lh-1">
				<li class="breadcrumb-item">
					<a href="{% url 'accesses:inicio' %}" class="d-flex align-items-center text-decoration-none">
						<i class="ri-home-4-line fs-18 text-primary me-1"></i>
						<span class="text-secondary fw-medium hover" >Inicio</span>
					</a>
				</li>
				<li class="breadcrumb-item active" aria-current="page">
					<span class="fw-medium">Información Básica</span>
				</li>
			</ol>
		</nav>
	</div>

	<!-- Start Your Code -->
    <div class="row">
		<div class="col-12">
            <div class="card bg-white border-0 rounded-3 mb-4">
				<div class="card-body p-4">
                    <form method="post" id="form_info_personal"enctype="multipart/form-data">
                        {% csrf_token %}
                        {% comment %} {% crispy form %} {% endcomment %}
                        <!-- INSERT_YOUR_CODE -->
                        <div class="mb-4 p-3 border rounded bg-primary bg-opacity-10">
                            <div class="row">
                                <div class="d-flex align-items-center my-4">
									<h6 class="mb-0 pe-3 text-primary fw-bold">DATOS PERSONALES</h6>
									<hr class="flex-grow-1 m-0 border-top border-1 border-secondary opacity-20">
								</div>
                                <div class="col-md-3 mb-3">
                                    {{ form.primer_nombre.label_tag }} {{ form.primer_nombre }}
                                    {% if form.primer_nombre.errors %}
                                        <div class="text-danger small">{{ form.primer_nombre.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-3 mb-3">
                                    {{ form.segundo_nombre.label_tag }} {{ form.segundo_nombre }}
                                    {% if form.segundo_nombre.errors %}
                                        <div class="text-danger small">{{ form.segundo_nombre.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-3 mb-3">
                                    {{ form.primer_apellido.label_tag }} {{ form.primer_apellido }}
                                    {% if form.primer_apellido.errors %}
                                        <div class="text-danger small">{{ form.primer_apellido.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-3 mb-3">
                                    {{ form.segundo_apellido.label_tag }} {{ form.segundo_apellido }}
                                    {% if form.segundo_apellido.errors %}
                                        <div class="text-danger small">{{ form.segundo_apellido.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-3 mb-3">
                                    {{ form.numero_documento.label_tag }} {{ form.numero_documento }}
                                    {% if form.numero_documento.errors %}
                                        <div class="text-danger small">{{ form.numero_documento.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-3 mb-3">
                                    {{ form.fecha_nacimiento.label_tag }} {{ form.fecha_nacimiento }}
                                    {% if form.fecha_nacimiento.errors %}
                                        <div class="text-danger small">{{ form.fecha_nacimiento.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-3 mb-3">
                                    {{ form.sexo.label_tag }} {{ form.sexo }}
                                    {% if form.sexo.errors %}
                                        <div class="text-danger small">{{ form.sexo.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-3 mb-3">
                                    {{ form.aspiracion_salarial.label_tag }} {{ form.aspiracion_salarial }}
                                    {% if form.aspiracion_salarial.errors %}
                                        <div class="text-danger small">{{ form.aspiracion_salarial.errors }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="mb-4 p-3 border rounded bg-primary bg-opacity-10">
                            <div class="row">
                                <div class="d-flex align-items-center my-4">
									<h6 class="mb-0 pe-3 text-primary fw-bold">CONTACTO</h6>
									<hr class="flex-grow-1 m-0 border-top border-1 border-secondary opacity-20">
								</div>
                                <div class="col-md-6 mb-3">
                                    {{ form.email.label_tag }} {{ form.email }}
                                    {% if form.email.errors %}
                                        <div class="text-danger small">{{ form.email.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ form.telefono.label_tag }} {{ form.telefono }}
                                    {% if form.telefono.errors %}
                                        <div class="text-danger small">{{ form.telefono.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ form.ciudad_id_004.label_tag }} {{ form.ciudad_id_004 }}
                                    {% if form.ciudad_id_004.errors %}
                                        <div class="text-danger small">{{ form.ciudad_id_004.errors }}</div>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ form.direccion.label_tag }} {{ form.direccion }}
                                    {% if form.direccion.errors %}
                                        <div class="text-danger small">{{ form.direccion.errors }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="mb-4 p-3 border rounded bg-primary bg-opacity-10">
                            <div class="row">
                                <div class="d-flex align-items-center my-4">
									<h6 class="mb-0 pe-3 text-primary fw-bold">PERFIL</h6>
									<hr class="flex-grow-1 m-0 border-top border-1 border-secondary opacity-20">
								</div>
                                <div class="col-md-12 mb-3">
                                    {{ form.perfil.label_tag }} {{ form.perfil }}
                                    {% if form.perfil.errors %}
                                        <div class="text-danger small">{{ form.perfil.errors }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="mb-4 p-3 border rounded bg-primary bg-opacity-10">
                            <div class="row">
                                <div class="d-flex align-items-center my-4">
									<h6 class="mb-0 pe-3 text-primary fw-bold">DOCUMENTOS</h6>
									<hr class="flex-grow-1 m-0 border-top border-1 border-secondary opacity-20">
								</div>
                                <div class="col-md-4 mb-3">
                                    {{ form.imagen_perfil.label_tag }} {{ form.imagen_perfil }}
                                    {% if form.imagen_perfil.errors %}
                                        <div class="text-danger small">{{ form.imagen_perfil.errors }}</div>
                                    {% endif %}
                                    {% if form.imagen_perfil.value %}
                                        <div class="mt-2">
                                            <span class="text-secondary small">Archivo actual: {{ form.imagen_perfil.value }}</span>
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="col-md-4 mb-3">
                                    {{ form.hoja_de_vida.label_tag }} {{ form.hoja_de_vida }}
                                    {% if form.hoja_de_vida.errors %}
                                        <div class="text-danger small">{{ form.hoja_de_vida.errors }}</div>
                                    {% endif %}
                                    {% if form.hoja_de_vida.value %}
                                        <div class="mt-2">
                                            <span class="text-secondary small">Archivo actual: {{ form.hoja_de_vida.value }}</span>
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="col-md-4 mb-3">
                                    {{ form.video_perfil.label_tag }} {{ form.video_perfil }}
                                    {% if form.video_perfil.help_text %}
                                        <small class="form-text text-muted">{{ form.video_perfil.help_text }}</small>
                                    {% endif %}
                                    {% if form.video_perfil.errors %}
                                        <div class="text-danger small">{{ form.video_perfil.errors }}</div>
                                    {% endif %}
                                    {% if form.video_perfil.value %}
                                        <div class="mt-2">
                                            <span class="text-secondary small">Video actual: {{ form.video_perfil.value }}</span>
                                            {% if candidato.video_perfil %}
                                                <div class="mt-2">
                                                    <video width="100%" controls style="max-width: 300px;">
                                                        <source src="{{ candidato.video_perfil.url }}" type="video/mp4">
                                                        Tu navegador no soporta el elemento de video.
                                                    </video>
                                                </div>
                                            {% endif %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
						<div class="mb-4 p-3 border rounded bg-primary bg-opacity-10">
							<div class="d-flex align-items-center my-4">
								<h6 class="mb-0 pe-3 text-primary fw-bold">FIT CULTURAL</h6>
								<hr class="flex-grow-1 m-0 border-top border-1 border-secondary opacity-20">
							</div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="alert alert-info" role="alert">
                                        <h4 class="alert-heading">
                                            <span class="material-symbols-outlined text-info me-2">psychology</span>
                                            Selecciona tus habilidades blandas
                                        </h4>
                                        <p>
                                            En esta sección podrás elegir el entorno y estilo de cultura donde te sientes más cómodo y das lo mejor de ti: cómo prefieres trabajar, el liderazgo que más te impulsa, tu ritmo ideal, la forma en que te comunicas y cómo tomas decisiones.
Lo que selecciones nos permitirá ubicarte en una empresa donde no solo encajes por tu experiencia técnica, sino donde realmente puedas fluir, aportar valor y crecer.
.
                                        </p>
                                    </div>
                                </div>
                                
                                <div class="col-md-12">
                                    <p>Selecciona una opción por cada categoría (Estilo de trabajo, Liderazgo, Ritmo, Comunicación y Decisiones). Marca lo que más se ajusta a tu realidad: así lograremos un match auténtico entre tu estilo y la cultura de la empresa.</p>
                                </div>
                                <hr class="my-4">
                                <div class="col-md-4">
                                    {{ form.grupo_fit_1|as_crispy_field }}
                                </div> 
                                <div class="col-md-4">
                                    {{ form.grupo_fit_2|as_crispy_field }}
                                </div> 
                                <div class="col-md-4">
                                    {{ form.grupo_fit_3|as_crispy_field }}
                                </div> 
                                <div class="col-md-4">
                                    {{ form.grupo_fit_4|as_crispy_field }}
                                </div> 
                                <div class="col-md-4">
                                    {{ form.grupo_fit_5|as_crispy_field }}
                                </div> 
                            </div>
						</div>

                        
                        <div class="mb-4 p-3 border rounded bg-primary bg-opacity-10">
                            <div class="d-flex align-items-center my-4">
                                <h6 class="mb-0 pe-3 text-primary fw-bold">MOTIVADORES</h6>
                                <hr class="flex-grow-1 m-0 border-top border-1 border-secondary opacity-20">
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="alert alert-info" role="alert">
                                        <h4 class="alert-heading">
                                            <span class="material-symbols-outlined text-info me-2">emoji_objects</span>
                                            Selecciona tus motivadores
                                        </h4>
                                        <p>
                                            En esta sección podrás seleccionar lo que más te motiva en un trabajo: estabilidad, desarrollo, propósito, impacto, remuneración u otro factor.
Lo que elijas nos ayudará a ubicarte en una empresa donde encuentres no solo un cargo, sino un lugar en el que realmente te sientas inspirado y con ganas de dar lo mejor de ti.

                                        </p>
                                    </div>
                                </div>
                                
                                <div class="col-md-12">
                                    <p>Selecciona máximo 2 motivadores que sean más importantes para ti en tu vida laboral. Sé honesto: así lograremos un match real entre lo que buscas y lo que la empresa puede ofrecerte.</p>
                                </div>
                                <div class="col-md-12">
                                    {{ form.motivadores|as_crispy_field }}
                                </div> 
                            </div>
                        </div>
                        <button id="form_info_personal" type="submit" class="btn bg-primary bg-opacity-10 fw-medium text-primary py-2 px-4 w-100" form="form_info_personal">Guardar Cambios</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block js %} 
<script>
    initializeSelect2('#id_sexo');
    initializeSelect2('#id_ciudad_id_004');
</script>  
{% endblock js %}